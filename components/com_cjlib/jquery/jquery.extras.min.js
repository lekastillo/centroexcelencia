/**
 * jQuery Validation Plugin 1.9.0
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2011 J�rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),
minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,
"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=
this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",
a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=
a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?
this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==
0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occurred when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,
b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=
d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);
if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);
d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=
this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,
e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};
var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?
e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;
return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,
b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,
mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,
b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=
0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);

/*
 * inlineFieldLabel 1.2.0
 *
 * By gavri (Linnovate.net)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * Date: 2010-09-4 12:22:17 +0200 (Fri, 24 May 2008)
 */
(function(c){c.fn.inlineFieldLabel=function(g){var f=c.extend({},c.fn.inlineFieldLabel.defaults,g);this.each(function(){$this=c(this);var e=(c.metadata?c.extend({},f,$this.metadata({type:f.metadataType,name:f.metadataName})):f).label,a=null,b=null,d="",d="",a=$this;"password"==a.attr("type")?(b=a.clone(),d=b.append(a.clone()).html(),d=d.replace('type="password"','type="text"'),d.replace('type="password"','type="text"'),a.after(d),b=a.next(),b.addClass("intra-field-label").val(e),a.hide()):a.addClass("intra-field-label").val(e);
null!=b&&b.focus(function(){a.show();a.trigger("focus");b.hide()});a.focus(function(){this.value==e&&a.removeClass("intra-field-label").val("")});a.blur(function(){if(this.value=="")if(b!=null){a.hide();b.show()}else a.addClass("intra-field-label").val(e)});a.parents("form:first").find('input[type="submit"]').click(function(){if(b!=null){a.show();b.remove()}a.val()==e&&a.removeClass("intra-field-label").val("")})});return this};c.fn.inlineFieldLabel.defaults={label:"some placeholder",metadataType:"class",
metadataName:"metadata"}})(jQuery);

/**
 * jQuery.ScrollTo - Easy element scrolling using jQuery.
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 5/25/2009
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 */
;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
	
/*
 * Treeview 1.4.1 - jQuery plugin to hide and show branches of a tree
 * 
 * http://bassistance.de/jquery-plugins/jquery-plugin-treeview/
 * http://docs.jquery.com/Plugins/Treeview
 *
 * Copyright (c) 2007 J�rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.treeview.js 5759 2008-07-01 07:50:28Z joern.zaefferer $
 *
 */
(function(b){b.extend(b.fn,{swapClass:function(c,a){var b=this.filter("."+c);this.filter("."+a).removeClass(a).addClass(c);b.removeClass(c).addClass(a);return this},replaceClass:function(a,b){return this.filter("."+a).removeClass(a).addClass(b).end()},hoverClass:function(a){a=a||"hover";return this.hover(function(){b(this).addClass(a)},function(){b(this).removeClass(a)})},heightToggle:function(a,b){a?this.animate({height:"toggle"},a,b):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?
"show":"hide"]();b&&b.apply(this,arguments)})},heightHide:function(a,b){a?this.animate({height:"hide"},a,b):(this.hide(),b&&this.each(b))},prepareBranches:function(b){b.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((b.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide());return this.filter(":has(>ul)")},applyClasses:function(c,e){this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(a){this==a.target&&
e.apply(b(this).next())}).add(b("a",this)).hoverClass();if(!c.prerendered){this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable);this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable);var f=this.find("div."+a.hitarea);f.length||(f=this.prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea));f.removeClass().addClass(a.hitarea).each(function(){var a="";b.each(b(this).parent().attr("class").split(" "),function(){a+=this+
"-hitarea "});b(this).addClass(a)})}this.find("div."+a.hitarea).click(e)},treeview:function(c){function e(){b(this).parent().find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightToggle(c.animated,c.toggle);c.unique&&b(this).parent().siblings().find(">.hitarea").replaceClass(a.collapsableHitarea,a.expandableHitarea).replaceClass(a.lastCollapsableHitarea,
a.lastExpandableHitarea).end().replaceClass(a.collapsable,a.expandable).replaceClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightHide(c.animated,c.toggle)}c=b.extend({cookieId:"treeview"},c);if(c.toggle){var f=c.toggle;c.toggle=function(){return f.apply(b(this).parent()[0],arguments)}}this.data("toggler",e);this.addClass("treeview");var g=this.find("li").prepareBranches(c);switch(c.persist){case "cookie":var i=c.toggle;c.toggle=function(){var a=[];g.each(function(c,d){a[c]=b(d).is(":has(>ul:visible)")?
1:0});b.cookie(c.cookieId,a.join(""),c.cookieOptions);i&&i.apply(this,arguments)};var d=b.cookie(c.cookieId);if(d){var j=d.split("");g.each(function(a,c){b(c).find(">ul")[parseInt(j[a])?"show":"hide"]()})}break;case "location":d=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()}),d.length&&(d=d.addClass("selected").parents("ul, li").add(d.next()).show(),c.prerendered&&d.filter("li").swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">.hitarea").swapClass(a.collapsableHitarea,
a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea))}g.applyClasses(c,e);if(c.control){var k=this,d=c.control,h=function(c){return function(){e.apply(b("div."+a.hitarea,k).filter(function(){return c?b(this).parent("."+c).length:!0}));return!1}};b("a:eq(0)",d).click(h(a.collapsable));b("a:eq(1)",d).click(h(a.expandable));b("a:eq(2)",d).click(h());b(c.control).show()}return this}});b.treeview={};var a=b.treeview.classes={open:"open",closed:"closed",expandable:"expandable",
expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}})(jQuery);
	
/*
jQuery Waypoints - v1.1.7
Copyright (c) 2011-2012 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/MIT-license.txt
https://github.com/imakewebthings/jquery-waypoints/blob/master/GPL-license.txt
*/
(function($,k,m,i,d){var e=$(i),g="waypoint.reached",b=function(o,n){o.element.trigger(g,n);if(o.options.triggerOnce){o.element[k]("destroy")}},h=function(p,o){if(!o){return -1}var n=o.waypoints.length-1;while(n>=0&&o.waypoints[n].element[0]!==p[0]){n-=1}return n},f=[],l=function(n){$.extend(this,{element:$(n),oldScroll:0,waypoints:[],didScroll:false,didResize:false,doScroll:$.proxy(function(){var q=this.element.scrollTop(),p=q>this.oldScroll,s=this,r=$.grep(this.waypoints,function(u,t){return p?(u.offset>s.oldScroll&&u.offset<=q):(u.offset<=s.oldScroll&&u.offset>q)}),o=r.length;if(!this.oldScroll||!q){$[m]("refresh")}this.oldScroll=q;if(!o){return}if(!p){r.reverse()}$.each(r,function(u,t){if(t.options.continuous||u===o-1){b(t,[p?"down":"up"])}})},this)});$(n).bind("scroll.waypoints",$.proxy(function(){if(!this.didScroll){this.didScroll=true;i.setTimeout($.proxy(function(){this.doScroll();this.didScroll=false},this),$[m].settings.scrollThrottle)}},this)).bind("resize.waypoints",$.proxy(function(){if(!this.didResize){this.didResize=true;i.setTimeout($.proxy(function(){$[m]("refresh");this.didResize=false},this),$[m].settings.resizeThrottle)}},this));e.load($.proxy(function(){this.doScroll()},this))},j=function(n){var o=null;$.each(f,function(p,q){if(q.element[0]===n){o=q;return false}});return o},c={init:function(o,n){this.each(function(){var u=$.fn[k].defaults.context,q,t=$(this);if(n&&n.context){u=n.context}if(!$.isWindow(u)){u=t.closest(u)[0]}q=j(u);if(!q){q=new l(u);f.push(q)}var p=h(t,q),s=p<0?$.fn[k].defaults:q.waypoints[p].options,r=$.extend({},s,n);r.offset=r.offset==="bottom-in-view"?function(){var v=$.isWindow(u)?$[m]("viewportHeight"):$(u).height();return v-$(this).outerHeight()}:r.offset;if(p<0){q.waypoints.push({element:t,offset:null,options:r})}else{q.waypoints[p].options=r}if(o){t.bind(g,o)}if(n&&n.handler){t.bind(g,n.handler)}});$[m]("refresh");return this},remove:function(){return this.each(function(o,p){var n=$(p);$.each(f,function(r,s){var q=h(n,s);if(q>=0){s.waypoints.splice(q,1);if(!s.waypoints.length){s.element.unbind("scroll.waypoints resize.waypoints");f.splice(r,1)}}})})},destroy:function(){return this.unbind(g)[k]("remove")}},a={refresh:function(){$.each(f,function(r,s){var q=$.isWindow(s.element[0]),n=q?0:s.element.offset().top,p=q?$[m]("viewportHeight"):s.element.height(),o=q?0:s.element.scrollTop();$.each(s.waypoints,function(u,x){if(!x){return}var t=x.options.offset,w=x.offset;if(typeof x.options.offset==="function"){t=x.options.offset.apply(x.element)}else{if(typeof x.options.offset==="string"){var v=parseFloat(x.options.offset);t=x.options.offset.indexOf("%")?Math.ceil(p*(v/100)):v}}x.offset=x.element.offset().top-n+o-t;if(x.options.onlyOnScroll){return}if(w!==null&&s.oldScroll>w&&s.oldScroll<=x.offset){b(x,["up"])}else{if(w!==null&&s.oldScroll<w&&s.oldScroll>=x.offset){b(x,["down"])}else{if(!w&&s.element.scrollTop()>x.offset){b(x,["down"])}}}});s.waypoints.sort(function(u,t){return u.offset-t.offset})})},viewportHeight:function(){return(i.innerHeight?i.innerHeight:e.height())},aggregate:function(){var n=$();$.each(f,function(o,p){$.each(p.waypoints,function(q,r){n=n.add(r.element)})});return n}};$.fn[k]=function(n){if(c[n]){return c[n].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof n==="function"||!n){return c.init.apply(this,arguments)}else{if(typeof n==="object"){return c.init.apply(this,[null,n])}else{$.error("Method "+n+" does not exist on jQuery "+k)}}}};$.fn[k].defaults={continuous:true,offset:0,triggerOnce:false,context:i};$[m]=function(n){if(a[n]){return a[n].apply(this)}else{return a.aggregate()}};$[m].settings={resizeThrottle:200,scrollThrottle:100};e.load(function(){$[m]("refresh")})})(jQuery,"waypoint","waypoints",window);

/*-------------------------------------------------------------------- 
Scripts for creating and manipulating custom menus based on standard <ul> markup
Version: 3.0, 03.31.2009

By: Maggie Costello Wachs (maggie@filamentgroup.com) and Scott Jehl (scott@filamentgroup.com)
	http://www.filamentgroup.com
	* reference articles: http://www.filamentgroup.com/lab/jquery_ipod_style_drilldown_menu/
		
Copyright (c) 2009 Filament Group
Dual licensed under the MIT (filamentgroup.com/examples/mit-license.txt) and GPL (filamentgroup.com/examples/gpl-license.txt) licenses.
--------------------------------------------------------------------*/
(function(a){function l(c,b){var d=this,c=a(c),e=a('<div class="fg-menu-container ui-widget ui-widget-content ui-corner-all">'+b.content+"</div>");this.menuExists=this.menuOpen=!1;var b=jQuery.extend({content:null,width:180,maxHeight:180,positionOpts:{posX:"left",posY:"bottom",offsetX:0,offsetY:0,directionH:"right",directionV:"down",detectH:!0,detectV:!0,linkToFront:!1},showSpeed:200,callerOnState:"ui-state-active",loadingState:"ui-state-loading",linkHover:"ui-state-hover",linkHoverSecondary:"li-hover",
crossSpeed:200,crumbDefaultText:"Choose an option:",backLink:!0,backLinkText:"Back",flyOut:!1,flyOutOnState:"ui-state-default",nextMenuLink:"ui-icon-triangle-1-e",topLinkText:"All",nextCrumbLink:"ui-icon-carat-1-e"},b),f=function(){a.each(j,function(a){j[a].menuOpen&&j[a].kill()})};this.kill=function(){c.removeClass(b.loadingState).removeClass("fg-menu-open").removeClass(b.callerOnState);e.find("li").removeClass(b.linkHoverSecondary).find("a").removeClass(b.linkHover);b.flyOutOnState&&e.find("li a").removeClass(b.flyOutOnState);
b.callerOnState&&c.removeClass(b.callerOnState);e.is(".fg-menu-ipod")&&d.resetDrilldownMenu();e.is(".fg-menu-flyout")&&d.resetFlyoutMenu();e.parent().hide();d.menuOpen=!1;a(document).unbind("click",f);a(document).unbind("keydown")};this.showLoading=function(){c.addClass(b.loadingState)};this.showMenu=function(){f();d.menuExists||d.create();c.addClass("fg-menu-open").addClass(b.callerOnState);e.parent().show().click(function(){d.kill();return!1});e.hide().slideDown(b.showSpeed).find(".fg-menu:eq(0)");
d.menuOpen=!0;c.removeClass(b.loadingState);a(document).click(f);a(document).keydown(function(c){var d;""!=c.which?d=c.which:""!=c.charCode?d=c.charCode:""!=c.keyCode&&(d=c.keyCode);var g=a(c.target).parents("div").is(".fg-menu-flyout")?"flyout":"ipod";switch(d){case 37:return"flyout"==g&&(a(c.target).trigger("mouseout"),0<a("."+b.flyOutOnState).size()&&a("."+b.flyOutOnState).trigger("mouseover")),"ipod"==g&&(a(c.target).trigger("mouseout"),0<a(".fg-menu-footer").find("a").size()&&a(".fg-menu-footer").find("a").trigger("click"),
0<a(".fg-menu-header").find("a").size()&&a(".fg-menu-current-crumb").prev().find("a").trigger("click"),a(".fg-menu-current").prev().is(".fg-menu-indicator")&&a(".fg-menu-current").prev().trigger("mouseover")),!1;case 38:return a(c.target).is("."+b.linkHover)?(d=a(c.target).parent().prev().find("a:eq(0)"),0<d.size()&&(a(c.target).trigger("mouseout"),d.trigger("mouseover"))):e.find("a:eq(0)").trigger("mouseover"),!1;case 39:return a(c.target).is(".fg-menu-indicator")&&("flyout"==g?a(c.target).next().find("a:eq(0)").trigger("mouseover"):
"ipod"==g&&(a(c.target).trigger("click"),setTimeout(function(){a(c.target).next().find("a:eq(0)").trigger("mouseover")},b.crossSpeed))),!1;case 40:return a(c.target).is("."+b.linkHover)?(d=a(c.target).parent().next().find("a:eq(0)"),0<d.size()&&(a(c.target).trigger("mouseout"),d.trigger("mouseover"))):e.find("a:eq(0)").trigger("mouseover"),!1;case 27:f();break;case 13:a(c.target).is(".fg-menu-indicator")&&"ipod"==g&&(a(c.target).trigger("click"),setTimeout(function(){a(c.target).next().find("a:eq(0)").trigger("mouseover")},
b.crossSpeed))}})};this.create=function(){e.css({width:b.width}).appendTo("body").find("ul:first").not(".fg-menu-breadcrumb").addClass("fg-menu");e.find("ul, li a").addClass("ui-corner-all");e.find("ul").attr("role","menu").eq(0).attr("aria-activedescendant","active-menuitem").attr("aria-labelledby",c.attr("id"));e.find("li").attr("role","menuitem");e.find("li:has(ul)").attr("aria-haspopup","true").find("ul").attr("aria-expanded","false");e.find("a").attr("tabindex","-1");1<e.find("ul").size()?b.flyOut?
d.flyout(e,b):d.drilldown(e,b):e.find("a").click(function(){d.chooseItem(this);return!1});b.linkHover&&e.find(".fg-menu li a").hover(function(){a(this);a("."+b.linkHover).removeClass(b.linkHover).blur().parent().removeAttr("id");a(this).addClass(b.linkHover).focus().parent().attr("id","active-menuitem")},function(){a(this).removeClass(b.linkHover).blur().parent().removeAttr("id")});b.linkHoverSecondary&&e.find(".fg-menu li").hover(function(){a(this).siblings("li").removeClass(b.linkHoverSecondary);
b.flyOutOnState&&a(this).siblings("li").find("a").removeClass(b.flyOutOnState);a(this).addClass(b.linkHoverSecondary)},function(){a(this).removeClass(b.linkHoverSecondary)});d.setPosition(e,c,b);d.menuExists=!0};this.chooseItem=function(b){d.kill();a("#menuSelection").text(a(b).text());location.href=a(b).attr("href")}}function m(c,b){var d=parseInt(b)||a(c).offset().left,e=d+a(c).width(),f=document.documentElement;return e<=(self.innerWidth||f&&f.clientWidth||document.body.clientWidth)+(self.pageXOffset||
document.documentElement.scrollLeft||document.body.scrollLeft)&&0<=d-(self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft)}function o(c,b){var d=parseInt(b)||a(c).offset().top,e=d+a(c).height(),f=document.documentElement;return e<=(self.innerHeight||f&&f.clientHeight||document.body.clientHeight)+(self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)&&0<=d-(self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}var j=[];a.fn.fgmenu=
function(c){var b=new l(this,c);j.push(b);a(this).mousedown(function(){b.menuOpen||b.showLoading()}).click(function(){!1==b.menuOpen?b.showMenu():b.kill();return!1}).mouseover(function(){a(this).data("timeout",setTimeout(function(){!1==b.menuOpen&&b.showMenu();return!1},200))})};l.prototype.flyout=function(c,b){var d=this;this.resetFlyoutMenu=function(){c.find("ul ul").removeClass("ui-widget-content").hide()};c.addClass("fg-menu-flyout").find("li:has(ul)").each(function(){var d=c.width(),f,h,k=a(this).find("ul");
k.css({left:d,width:d}).hide();a(this).find("a:eq(0)").addClass("fg-menu-indicator").html("<span>"+a(this).find("a:eq(0)").text()+'</span><span class="ui-icon '+b.nextMenuLink+'"></span>').hover(function(){clearTimeout(h);var c=a(this).next();o(c,a(this).offset().top)||c.css({top:"auto",bottom:0});m(c,a(this).offset().left+100)||c.css({left:"auto",right:d,"z-index":999});f=setTimeout(function(){c.addClass("ui-widget-content").show(b.showSpeed).attr("aria-expanded","true")},300)},function(){clearTimeout(f);
var c=a(this).next();h=setTimeout(function(){c.removeClass("ui-widget-content").hide(b.showSpeed).attr("aria-expanded","false")},400)});a(this).find("ul a").hover(function(){clearTimeout(h);a(this).parents("ul").prev().is("a.fg-menu-indicator")&&a(this).parents("ul").prev().addClass(b.flyOutOnState)},function(){h=setTimeout(function(){k.hide(b.showSpeed);c.find(b.flyOutOnState).removeClass(b.flyOutOnState)},500)})});c.find("a").click(function(){d.chooseItem(this);return!1})};l.prototype.drilldown=
function(c,b){var d=this,e=c.find(".fg-menu"),f=a('<ul class="fg-menu-breadcrumb ui-widget-header ui-corner-all ui-helper-clearfix"></ul>'),h=a('<li class="fg-menu-breadcrumb-text">'+b.crumbDefaultText+"</li>"),k=a('<li class="'+(b.backLink?"fg-menu-prev-list":"fg-menu-all-lists")+'"><a href="#" class="'+(b.backLink?"ui-state-default ui-corner-all":"")+'">'+(b.backLink?'<span class="ui-icon ui-icon-triangle-1-w"></span>':"")+(b.backLink?b.backLinkText:b.topLinkText)+"</a></li>");c.addClass("fg-menu-ipod");
b.backLink?f.addClass("fg-menu-footer").appendTo(c).hide():f.addClass("fg-menu-header").prependTo(c);f.append(h);var g=function(a){a.height()>b.maxHeight&&a.addClass("fg-menu-scroll");a.css({height:b.maxHeight})},i=function(a){a.removeClass("fg-menu-scroll").removeClass("fg-menu-current").height("auto")};this.resetDrilldownMenu=function(){a(".fg-menu-current").removeClass("fg-menu-current");e.animate({left:0},b.crossSpeed,function(){a(this).find("ul").each(function(){a(this).hide();i(a(this))});e.addClass("fg-menu-current")});
a(".fg-menu-all-lists").find("span").remove();f.empty().append(h);a(".fg-menu-footer").empty().hide();g(e)};e.addClass("fg-menu-content fg-menu-current ui-widget-content ui-helper-clearfix").css({width:c.width()}).find("ul").css({width:c.width(),left:c.width()}).addClass("ui-widget-content").hide();g(e);e.find("a").each(function(){a(this).next().is("ul")?a(this).addClass("fg-menu-indicator").each(function(){a(this).html("<span>"+a(this).text()+'</span><span class="ui-icon '+b.nextMenuLink+'"></span>')}).click(function(){var h=
a(this).next(),l=a(this).parents("ul:eq(0)"),j=l.is(".fg-menu-content")?0:parseFloat(e.css("left")),j=Math.round(j-parseFloat(c.width())),n=a(".fg-menu-footer");i(l);g(h);e.animate({left:j},b.crossSpeed);h.show().addClass("fg-menu-current").attr("aria-expanded","true");var m=function(b){var c=a(".fg-menu-current"),d=c.parents("ul:eq(0)");c.hide().attr("aria-expanded","false");i(c);g(d);d.addClass("fg-menu-current").attr("aria-expanded","true");d.hasClass("fg-menu-content")&&(b.remove(),n.hide())};
b.backLink?0==n.find("a").size()&&(n.show(),a('<a href="#"><span class="ui-icon ui-icon-triangle-1-w"></span> <span>Back</span></a>').appendTo(n).click(function(){var d=a(this),f=parseFloat(e.css("left"))+c.width();e.animate({left:f},b.crossSpeed,function(){m(d)});return!1})):(1==f.find("li").size()&&(f.empty().append(k),k.find("a").click(function(){d.resetDrilldownMenu();return!1})),a(".fg-menu-current-crumb").removeClass("fg-menu-current-crumb"),h=a(this).find("span:eq(0)").text(),h=a('<li class="fg-menu-current-crumb"><a href="javascript://" class="fg-menu-crumb">'+
h+"</a></li>"),h.appendTo(f).find("a").click(function(){if(a(this).parent().is(".fg-menu-current-crumb"))d.chooseItem(this);else{var c=-(a(".fg-menu-current").parents("ul").size()-1)*180;e.animate({left:c},b.crossSpeed,function(){m()});a(this).parent().addClass("fg-menu-current-crumb").find("span").remove();a(this).parent().nextAll().remove()}return false}),h.prev().append(' <span class="ui-icon '+b.nextCrumbLink+'"></span>'));return!1}):a(this).click(function(){d.chooseItem(this);return!1})})};l.prototype.setPosition=
function(c,b,d){var e=b.offset().left,f=b.offset().top,h=b.getTotalWidth(),k=b.getTotalHeight(),g,i,j=a('<div class="positionHelper"></div>');j.css({position:"absolute",left:e,top:f,width:h,height:k});c.wrap(j);switch(d.positionOpts.posX){case "left":g=0;break;case "center":g=h/2;break;case "right":g=h}switch(d.positionOpts.posY){case "top":i=0;break;case "center":i=k/2;break;case "bottom":i=k}g+=d.positionOpts.offsetX;i+=d.positionOpts.offsetY;"up"==d.positionOpts.directionV?(c.css({top:"auto",bottom:i}),
d.positionOpts.detectV&&!o(c)&&c.css({bottom:"auto",top:i})):(c.css({bottom:"auto",top:i}),d.positionOpts.detectV&&!o(c)&&c.css({top:"auto",bottom:i}));"left"==d.positionOpts.directionH?(c.css({left:"auto",right:g}),d.positionOpts.detectH&&!m(c)&&c.css({right:"auto",left:g})):(c.css({right:"auto",left:g}),d.positionOpts.detectH&&!m(c)&&c.css({left:"auto",right:g}));d.positionOpts.linkToFront&&b.clone().addClass("linkClone").css({position:"absolute",top:0,right:"auto",bottom:"auto",left:0,width:b.width(),
height:b.height()}).insertAfter(c)};jQuery.fn.getTotalWidth=function(){return a(this).width()+parseInt(a(this).css("paddingRight"))+parseInt(a(this).css("paddingLeft"))+parseInt(a(this).css("borderRightWidth"))+parseInt(a(this).css("borderLeftWidth"))};jQuery.fn.getTotalHeight=function(){return a(this).height()+parseInt(a(this).css("paddingTop"))+parseInt(a(this).css("paddingBottom"))+parseInt(a(this).css("borderTopWidth"))+parseInt(a(this).css("borderBottomWidth"))};Number.prototype.pxToEm=String.prototype.pxToEm=
function(c){var c=jQuery.extend({scope:"body",reverse:!1},c),b=""==this?0:parseFloat(this),d;d=function(){var a=document.documentElement;return self.innerWidth||a&&a.clientWidth||document.body.clientWidth};d="body"==c.scope&&a.browser.msie&&0<(parseFloat(a("body").css("font-size"))/d()).toFixed(1)?16*(parseFloat(a("body").css("font-size"))/d()).toFixed(3):parseFloat(jQuery(c.scope).css("font-size"));return!0==c.reverse?(b*d).toFixed(2)+"px":(b/d).toFixed(2)+"em"}})(jQuery);

(function(a){a.fn.stupidtable=function(b){var c=this;b=b||{};b=a.extend({},{"int":function(a,b){return parseInt(a,10)-parseInt(b,10)},"float":function(a,b){return parseFloat(a)-parseFloat(b)},string:function(a,b){if(a<b)return-1;if(a>b)return+1;return 0}},b);var d=function(a,b){return!!a&&!!b&&!(a<b||b<a)};var e=function(b,c){var d=b.slice(0).sort(c);var e=[];var f=0;for(var g=0;g<b.length;g++){f=a.inArray(b[g],d);while(a.inArray(f,e)!=-1){f++}e.push(f)}return e};var f=function(a,b){var c=a.slice(0);for(var d=0;d<b.length;d++){newIndex=b[d];c[newIndex]=a[d]}return c};var g=function(a,b){var c=a.slice(0);var e=a.slice(0).reverse();var f=a.slice(0).sort(b);return d(c,f)||d(e,f)};c.delegate("th","click",function(){var d=c.find("tbody tr");var h=a(this).index();var i=a(this).attr("class");var j=null;if(i){i=i.split(/\s+/);for(var k=0;k<i.length;k++){if(i[k].search("type-")!=-1){j=i[k];break}}if(j){j=j.split("-")[1]}else{j="string"}}if(!j){return false}var l=b[j];column=[];d.each(function(b,c){var d=a(c).children().eq(h);var e=d.attr("data-order-by")||d.text();column.push(e)});if(g(column,l)){column.reverse();var m=[];for(var h=column.length-1;h>=0;h--){m.push(h)}}else{m=e(column,l)}var n=a(f(d,m));c.find("tbody").append(n)})}})(jQuery)

if (typeof jQuery.ui !== 'undefined') {
/*
* jQuery UI Tag-it!
*
* @version v2.0 (06/2011)
*
* Copyright 2011, Levy Carneiro Jr.
* Released under the MIT license.
* http://aehlke.github.com/tag-it/LICENSE
*
* Homepage:
*   http://aehlke.github.com/tag-it/
*
* Authors:
*   Levy Carneiro Jr.
*   Martin Rehfeld
*   Tobias Schmidt
*   Skylar Challand
*   Alex Ehlke
*
* Maintainer:
*   Alex Ehlke - Twitter: @aehlke
*
* Dependencies:
*   jQuery v1.4+
*   jQuery UI v1.8+
*/
(function(b){b.widget("ui.tagit",{options:{itemName:"item",fieldName:"tags",availableTags:[],tagSource:null,removeConfirmation:!1,caseSensitive:!0,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,tabIndex:null,onTagAdded:null,onTagRemoved:null,onTagClicked:null},_create:function(){var a=this;this.element.is("input")?(this.tagList=b("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.css("display","none")):
this.tagList=this.element.find("ul, ol").andSelf().last();this._tagInput=b('<input type="text">').addClass("ui-widget-content");this.options.tabIndex&&this._tagInput.attr("tabindex",this.options.tabIndex);this.options.tagSource=this.options.tagSource||function(e,c){var d=e.term.toLowerCase(),g=b.grep(a.options.availableTags,function(a){return a.toLowerCase().indexOf(d)===0});c(a._subtractArray(g,a.assignedTags()))};this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(b('<li class="tagit-new"></li>').append(this._tagInput)).click(function(e){var c=
b(e.target);c.hasClass("tagit-label")?a._trigger("onTagClicked",e,c.closest(".tagit-choice")):a._tagInput.focus()});this.tagList.children("li").each(function(){if(!b(this).hasClass("tagit-new")){a.createTag(b(this).html(),b(this).attr("class"));b(this).remove()}});if(this.options.singleField)if(this.options.singleFieldNode){var c=b(this.options.singleFieldNode),d=c.val().split(this.options.singleFieldDelimiter);c.val("");b.each(d,function(b,c){a.createTag(c)})}else this.options.singleFieldNode=this.tagList.after('<input type="hidden" style="display:none;" value="" name="'+
this.options.fieldName+'">');this._tagInput.keydown(function(c){if(c.which==b.ui.keyCode.BACKSPACE&&a._tagInput.val()===""){var d=a._lastTag();!a.options.removeConfirmation||d.hasClass("remove")?a.removeTag(d):a.options.removeConfirmation&&d.addClass("remove ui-state-highlight")}else a.options.removeConfirmation&&a._lastTag().removeClass("remove ui-state-highlight");if(c.which==b.ui.keyCode.COMMA||c.which==b.ui.keyCode.ENTER||c.which==b.ui.keyCode.TAB&&a._tagInput.val()!==""||c.which==b.ui.keyCode.SPACE&&
a.options.allowSpaces!==true&&(b.trim(a._tagInput.val()).replace(/^s*/,"").charAt(0)!='"'||b.trim(a._tagInput.val()).charAt(0)=='"'&&b.trim(a._tagInput.val()).charAt(b.trim(a._tagInput.val()).length-1)=='"'&&b.trim(a._tagInput.val()).length-1!==0)){c.preventDefault();a.createTag(a._cleanedInput());a._tagInput.autocomplete("close")}}).blur(function(){a.createTag(a._cleanedInput())});(this.options.availableTags||this.options.tagSource)&&this._tagInput.autocomplete({source:this.options.tagSource,minLength:2,
select:function(b,c){a._tagInput.val()===""&&a.removeTag(a._lastTag(),false);a.createTag(c.item.value);return false}})},_cleanedInput:function(){return b.trim(this._tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.children(".tagit-choice:last")},assignedTags:function(){var a=this,c=[];this.options.singleField?(c=b(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===c[0]&&(c=[])):this.tagList.children(".tagit-choice").each(function(){c.push(a.tagLabel(this))});
return c},_updateSingleTagsField:function(a){b(this.options.singleFieldNode).val(a.join(this.options.singleFieldDelimiter))},_subtractArray:function(a,c){for(var d=[],e=0;e<a.length;e++)-1==b.inArray(a[e],c)&&d.push(a[e]);return d},tagLabel:function(a){return this.options.singleField?b(a).children(".tagit-label").text():b(a).children("input").val()},_isNew:function(a){var b=this,d=!0;this.tagList.children(".tagit-choice").each(function(){if(b._formatStr(a)==b._formatStr(b.tagLabel(this)))return d=
!1});return d},_formatStr:function(a){return this.options.caseSensitive?a:b.trim(a.toLowerCase())},createTag:function(a,c){that=this;a=b.trim(a);if(!this._isNew(a)||""===a)return!1;var d=b(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(a),e=b("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(c).append(d),f=b("<span></span>").addClass("ui-icon ui-icon-close"),f=b('<a><span class="text-icon">\u00d7</span></a>').addClass("close").append(f).click(function(){that.removeTag(e)});
e.append(f);this.options.singleField?(d=this.assignedTags(),d.push(a),this._updateSingleTagsField(d)):(d=d.html(),e.append('<input type="hidden" style="display:none;" value="'+d+'" name="'+this.options.itemName+"["+this.options.fieldName+'][]">'));this._trigger("onTagAdded",null,e);this._tagInput.val("");this._tagInput.parent().before(e)},removeTag:function(a,c){"undefined"===typeof c&&(c=!0);a=b(a);this._trigger("onTagRemoved",null,a);if(this.options.singleField){var d=this.assignedTags(),e=this.tagLabel(a),
d=b.grep(d,function(a){return a!=e});this._updateSingleTagsField(d)}c?a.fadeOut("fast").hide("blind",{direction:"horizontal"},"fast",function(){a.remove()}).dequeue():a.remove()},removeAll:function(){var a=this;this.tagList.children(".tagit-choice").each(function(b,d){a.removeTag(d,!1)})}})})(jQuery);

/*!
 * jQuery UI Stars v3.0.X
 * http://plugins.jquery.com/project/Star_Rating_widget
 *
 * Copyright (c) 2008-2011 Marek "Orkan" Zajac (orkans@gmail.com)
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * THIS IS AN UNOFFICIAL RELEASE WITH INCLUDED PATCH FOR JQUERY 1.6
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *
 */
(function(e){e.widget("ui.stars",{options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,disableValue:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"},_create:function(){function b(b,
i){if(-1!=b){var e=i?a.starHoverClass:a.starOnClass,f=i?a.starOnClass:a.starHoverClass;c.$stars.eq(b).prevAll("."+a.starClass).andSelf().removeClass(f).addClass(e);c.$stars.eq(b).nextAll("."+a.starClass).removeClass(a.starHoverClass+" "+a.starOnClass);c._showCap(a.id2title[b])}else d()}function d(){c.$stars.removeClass(a.starOnClass+" "+a.starHoverClass);c._showCap("")}var c=this,a=this.options,f=0;this.element.data("former.stars",this.element.html());a.isSelect="select"==a.inputType;this.$form=e(this.element).closest("form");
this.$selec=a.isSelect?e("select",this.element):null;this.$rboxs=a.isSelect?e("option",this.$selec):e(":radio",this.element);this.$stars=this.$rboxs.map(function(b){var d=this.value,g=(a.isSelect?this.text:this.title)||this.value,h=a.isSelect&&this.defaultSelected||this.defaultChecked;0==b&&(a.split="number"!=typeof a.split?0:a.split,a.val2id=[],a.id2val=[],a.id2title=[],a.name=a.isSelect?c.$selec.get(0).name:this.name,a.disabled=a.disabled||(a.isSelect?e(c.$selec).prop("disabled"):e(this).prop("disabled")));
if(d==a.cancelValue)return a.cancelTitle=g,null;a.val2id[d]=f;a.id2val[f]=d;a.id2title[f]=g;h&&(a.checked=f,a.value=a.defaultValue=d,a.title=g);b=e("<div/>").addClass(a.starClass);d=e("<a/>").attr("title",a.showTitles?g:"").text(d);a.split&&(g=f%a.split,h=Math.floor(a.starWidth/a.split),b.width(h),d.css("margin-left","-"+g*h+"px"));f++;return b.append(d).get(0)});a.items=f;a.isSelect?this.$selec.remove():this.$rboxs.remove();this.$cancel=e("<div/>").addClass(a.cancelClass).append(e("<a/>").attr("title",
a.showTitles?a.cancelTitle:"").text(a.cancelValue));a.cancelShow&=!a.disabled&&!a.oneVoteOnly;a.cancelShow&&this.element.append(this.$cancel);this.element.append(this.$stars);void 0===a.checked&&(a.checked=-1,a.value=a.defaultValue=a.cancelValue,a.title="");this.$value=e("<input type='hidden' name='"+a.name+"' value='"+a.value+"' />");this.element.append(this.$value);this.$stars.bind("click.stars",function(d){if(!a.forceSelect&&a.disabled)return false;var e=c.$stars.index(this);a.checked=e;a.value=
a.id2val[e];a.title=a.id2title[e];c.$value.prop("disabled",a.disabled);c.$value.val(a.value);b(e,false);c._disableCancel();!a.forceSelect&&c.callback(d,"star")}).bind("mouseover.stars",function(){if(a.disabled)return false;var d=c.$stars.index(this);b(d,true)}).bind("mouseout.stars",function(){if(a.disabled)return false;b(c.options.checked,false)});this.$cancel.bind("click.stars",function(b){if(!a.forceSelect&&(a.disabled||a.value==a.cancelValue))return false;a.checked=-1;a.value=a.cancelValue;a.title=
"";c.$value.val(a.value);a.disableValue&&c.$value.prop("disabled",true);d();c._disableCancel();!a.forceSelect&&c.callback(b,"cancel")}).bind("mouseover.stars",function(){if(c._disableCancel())return false;c.$cancel.addClass(a.cancelHoverClass);d();c._showCap(a.cancelTitle)}).bind("mouseout.stars",function(){if(c._disableCancel())return false;c.$cancel.removeClass(a.cancelHoverClass);c.$stars.triggerHandler("mouseout.stars")});this.$form.bind("reset.stars",function(){!a.disabled&&c.select(a.defaultValue)});
e(window).unload(function(){c.$cancel.unbind(".stars");c.$stars.unbind(".stars");c.$form.unbind(".stars");c.$selec=c.$rboxs=c.$stars=c.$value=c.$cancel=c.$form=null});this.select(a.value);a.disabled&&this.disable()},_disableCancel:function(){var b=this.options,d=b.disabled||b.oneVoteOnly||b.value==b.cancelValue;d?this.$cancel.removeClass(b.cancelHoverClass).addClass(b.cancelDisabledClass):this.$cancel.removeClass(b.cancelDisabledClass);this.$cancel.css("opacity",d?0.5:1);return d},_disableAll:function(){var b=
this.options;this._disableCancel();b.disabled?this.$stars.filter("div").addClass(b.starDisabledClass):this.$stars.filter("div").removeClass(b.starDisabledClass)},_showCap:function(b){var d=this.options;d.captionEl&&d.captionEl.text(b)},value:function(){return this.options.value},select:function(b){var d=this.options,b=b==d.cancelValue?this.$cancel:this.$stars.eq(d.val2id[b]);d.forceSelect=!0;b.triggerHandler("click.stars");d.forceSelect=!1},selectID:function(b){var d=this.options,b=-1==b?this.$cancel:
this.$stars.eq(b);d.forceSelect=!0;b.triggerHandler("click.stars");d.forceSelect=!1},enable:function(){this.options.disabled=!1;this._disableAll()},disable:function(){this.options.disabled=!0;this._disableAll()},destroy:function(){this.$form.unbind(".stars");this.$cancel.unbind(".stars").remove();this.$stars.unbind(".stars").remove();this.$value.remove();this.element.unbind(".stars").html(this.element.data("former.stars")).removeData("stars");return this},callback:function(b,d){var c=this.options;
c.callback&&c.callback(this,d,c.value,b);c.oneVoteOnly&&!c.disabled&&this.disable()}});e.extend(e.ui.stars,{version:"@VERSION@"})})(jQuery);
}